C251 COMPILER V5.60.0,  main                                                               06/03/25  00:07:39  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE main
OBJECT MODULE PLACED IN .\Out_File\main.obj
COMPILER INVOKED BY: E:\keil5\C251\BIN\C251.EXE ..\USER\src\main.c XSMALL INTR2 WARNINGLEVEL(3) BROWSE INCDIR(..\..\Libr
                    -aries\libraries;..\..\Libraries\seekfree_libraries;..\..\Libraries\seekfree_peripheral;..\CODE;..\USER\inc;..\USER\src) 
                    -DEBUG PRINT(.\Out_File\main.lst) OBJECT(.\Out_File\main.obj) 

stmt  level    source

    1          
    2          #include "headfile.h"
    3          void main()
    4          {
    5   1              DisableGlobalIRQ();                                                                                                                                             //¹Ø±Õ×ÜÖÐ¶Ï
    6   1              board_init();                                                                                                                                                           // ³õÊ¼»¯¼Ä´æÆ÷,ÎðÉ¾³ý´Ë¾ä´úÂë¡£
    7   1              delay_ms(800);                                                                                                                                                  //Èí¼þÉÔÎ¢ÑÓÊ±Ò»ÏÂ
    8   1      
    9   1      
   10   1      //      lcd_init();
   11   1              ips114_init();                                                                                                                                                                  //1.14´çÒº¾§ÆÁ³õÊ¼»¯
   12   1      
   13   1              ADC_int();                                                                                                                                                                              //ADC²É¼¯³õÊ¼»¯
   14   1              ips114_showstr(0,0,(unsigned char*)"Electromagnetic-Car");//×Ö·û´®ÏÔÊ¾
   15   1              ips114_showstr(0,1,"interlize...");
   16   1              delay_ms(500);                     
   17   1      //      init_Steer_PWM();                                          //¶æ»ú³õÊ¼»¯
   18   1              init_PWM(MOTOR_MODE_SELECT);                               //³õÊ¼»¯DRVÇý¶¯·½Ê½£¨1-DRV/0-BTN£©
   19   1              encoder_init();                                            //±àÂëÆ÷³õÊ¼»¯
   20   1      //      uart_init(UART_4, UART4_RX_P02, UART4_TX_P03, 115200, TIM_2);//³õÊ¼»¯ÎÞÏß´®¿Ú
   21   1      //      pwm_init(PWMB_CH4_P77, 50, 750);                         //³õÊ¼»¯ÎÞË¢µç»ú20%Õ¼¿Õ±È                      
   22   1      //      pwm_init(PWMB_CH3_P33, 50, 750);                         //(1.2ms/20ms * 10000)£¨10000ÊÇPWMµÄÂúÕ¼¿Õ±ÈÊ
             -±ºòµÄÖµ£© 10000ÎªPWM×î´óÖµ
   23   1              delay_ms(500);                                          //ÑÓÊ±ÈÃÎÞË¢µç»úÏÈ×ªÆðÀ´
   24   1              gpio_mode(Reed_Switch_Pin,GPI_IMPEDANCE);                  //Í£³µÊ¶±ðµÄ¸É»É¹ÜIO³õÊ¼»¯
   25   1              PID_int();                                                 //PID²ÎÊý³õÊ¼»¯  
   26   1              ips114_showstr(0,2,"icm20602_int...");  
   27   1              icm20602_init();
   28   1              ips114_showstr(0,3,"icm20602_intok...");
   29   1              delay_ms(500);
   30   1              ips114_showstr(0,4,"dlla_int...");                       
   31   1              delay_ms(500);
   32   1        
   33   1      //      dl1a_init();                                               //±ÜÕÏÄ£¿é³õÊ¼»¯
   34   1              ips114_showstr(0,5,"dlla_intok...");
   35   1              
   36   1              
   37   1                      
   38   1              pit_timer_ms(TIM_1, 5);                                    //³õÊ¼»¯¶¨Ê±Æ÷1×÷ÎªÖÜÆÚÖÐ¶Ï´¥·¢Æ÷£¬5MS½øÒ»´ÎÖ
             -Ð¶Ï
   39   1              NVIC_SetPriority(TIMER1_IRQn, 3);                                //ÉèÖÃ¶¨Ê±Æ÷1ÖÐ¶ÏÓÅÏÈ¼¶Îª 3 ¼¶£¨×î¸ß¼¶£©
   40   1              
   41   1      
   42   1              
   43   1              gpio_mode(P6_7,GPO_PP);                                    //·äÃùÆ÷³õÊ¼»¯£¨¸Ä·äÃùÆ÷Òý½ÅÒ²Òª¸ÄÕâ¸ö¶ÔÓ¦µÄ³
             -õÊ¼»¯£©
   44   1              BUZZ_DiDiDi(250);                                          //·äÃùÆ÷µÎÒ»Éù
   45   1              
   46   1              ips114_showstr(0,6,"intall_intok...");
   47   1              delay_ms(500);
   48   1              ips114_clear(BLUE);
   49   1      //       Key_Scan_Deal();      //°´¼üµ÷²Î//  
   50   1              EnableGlobalIRQ(); //³õÊ¼»¯Íê±Ï£¬¿ªÆô×ÜÖÐ¶Ï
   51   1              
   52   1              /****ÏÂÃæµÄ²âÊÔº¯ÊýÖ»ÊÇ²âÊÔÓÃ£¬²âÊÔ½áÊøÇë×¢ÊÍ¹Ø±Õ£¬Ò»´ÎÖ»ÔÊÐí¿ªÒ»¸ö²âÊÔº¯Êý£¡£¡******/
   53   1      //      Test_Servo_Hardware();//²âÊÔ¶æ»úµ÷Öµ
   54   1      //      Test_Motor_Hardware();//µ÷ÊÔµç»úÊ¹ÓÃ
C251 COMPILER V5.60.0,  main                                                               06/03/25  00:07:39  PAGE 2   

   55   1      //      Test_Electric_Hardware();//²âÊÔµç´Åµç¸Ð²É¼¯
   56   1      //      Test_Encoder();//²âÊÔ±àÂëÆ÷²É¼¯//         
   57   1              /*********************************************************************************/
   58   1      
   59   1        while(1)
   60   1              {                                          
   61   2      //       Strategy_Slect();     //²¦Âë¿ª¹Ø²ßÂÔÑ¡Ôñ 1--ÏÔÊ¾µç¸ÐÖµºÍÈüµÀÆ«²î 2--Ñ¡Ôñ×óÓÒ³ö¿â 3--Ñ¡ÔñÊÇ·ñÈë»·µº
   62   2      //       Handle_Barn_Out(Library_selection);     //Ö´ÐÐ³ö¿âº¯Êýºóflag_start±êÖ¾Î»ÖÃÒ»²Å»á½øÖÐ¶Ï
   63   2      
   64   2                      
   65   2                       
   66   2                      
   67   2      //                      Í£³µÏÔÊ¾
   68   2                              Reed();
   69   2                              ips114_showint8(0,6,Reed_Switch_Pin);
   70   2                              ips114_showint8(0,7,flag_end);
   71   2                       
   72   2                        
   73   2      //     Roundabout_debugshow();//»·µºµ÷ÊÔÆÁÄ»ÏÔÊ¾£¨µ÷ÊÔ»·µºÊ±´ò¿ª£©
   74   2                       //Speed_debugshow();     //ËÙ¶È»·µ÷ÊÔÆÁÄ»ÏÔÊ¾£¨µ÷ÊÔËÙ¶È»·Ê±´ò¿ª£¬ËÙ¶È»·½¨ÒéÓÃÉÏÎ»»ú¿´²¨ÐÎ£©
   75   2      //                datasend();          //ÉÏÎ»»ú·¢ËÍÊý¾Ý 
   76   2                          
   77   2      
   78   2      //                      ËÙ¶ÈÏÔÊ¾
   79   2                              ips114_showint16(50,0,left_real_speed);
   80   2                              ips114_showint16(50,1,right_real_speed);
   81   2                              ips114_showint16(50,2,real_speed);
   82   2                              ips114_showint16(50,4,aim_speed);
   83   2                              
   84   2                              
   85   2                              
   86   2      //          µç¸ÐÏÔÊ¾
   87   2                              ips114_showint16(0,0,Left_Adc);  //road_type.straight
   88   2                              ips114_showint16(0,1,Left_Shu_Adc);
   89   2                              ips114_showint16(0,2,Right_Shu_Adc);
   90   2                              ips114_showint16(0,3,Right_Adc);  
   91   2      //                      ²â¾àÏÔÊ¾£¨ºóÐø×¢ÊÍ£©
   92   2                              ips114_showuint16(100,5,dl1a_distance_mm);
   93   2                              ips114_showuint16(100,1,flag_obstacle);
   94   2      //                      ÈüµÀÆ«²îÏÔÊ¾
   95   2                              ips114_showfloat(0,5,Current_Dir,2,1);//ÏÔÊ¾¸¡µãÊý   ÕûÊýÏÔÊ¾2Î»   Ð¡ÊýÏÔÊ¾1Î»
   96   2                              
   97   2                              
   98   2      //                      µçÔ´µçÑ¹ÏÔÊ¾                    
   99   2                              ips114_showstr(140,0,"Value:");
  100   2                              ips114_showfloat(190,0,adc_valueM,2,2);  
  101   2                              
  102   2        }
  103   1      }


Module Information          Static   Overlayable
------------------------------------------------
  code size            =       483     ------
  ecode size           =    ------     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =    ------     ------
  xdata-const size     =    ------     ------
  edata size           =    ------     ------
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
C251 COMPILER V5.60.0,  main                                                               06/03/25  00:07:39  PAGE 3   

  const size           =    ------     ------
  hconst size          =       116     ------
End of Module Information.


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
